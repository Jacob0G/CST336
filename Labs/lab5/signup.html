<!DOCTYPE html>
<html>
    <head>
        <title> Sign up </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        /*global $*/
        
        $(document).ready(function() {
            $("#username1").change(function() {
                $.ajax({
                        type: "GET",
                        url: "checkUsername_text.php",
                        data: { "username": $("#username1").val() },
                    success: function(data,status) {
                    //alert(data);
                    $("#username1Error").html(data);
                    },
                    complete: function(data,status) { //optional, used for debugging purposes
                    //alert(status);
                    }
                });//ajax
            })
            $("#username2").change(function(){
                
                $.ajax({
                    type: "GET",
                    url: "checkUsername_json.php",
                    dataType: "json",
                    data: { "username": $("#username2").val() },
                    success: function(data,status) {
                        //alert(data);
                        if(data.available){
                            $("#username2Error").html("User Name is available");
                            $("#username2Error").css("color","green");
                        }
                        else{
                            $("#username2Error").html("User Name is not available");
                            $("#username2Error").css("color","red"); 
                        }
                    },
                    complete: function(data,status) { //optional, used for debugging purposes
                        //alert(status);
                    }
                });//ajax
            })
        })
    </script>
    </head>
    <body>
        <fieldset>
            <legend>
                Sign Up
            </legend>
            
            First Name: <input type="text" id="firstName" name="firstName"/> <br>
            Last Name: <input type="text" id="lastName" name="lastName"/> <br>
            
            Username: <input type="text" id="userName1" name="userName"/>
            <span id="username1Error"></span><br>
            
            Username: <input type="text" id="userName2" name="userName"/>
            <span id="username2Error"></span><br>
            
        
            
        </fieldset>

    </body>
</html>